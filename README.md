<!--
 * @Author: tjxgame@outlook.com
 * @Date: 2024-01-30 14:57:38
 * @LastEditors: tjxgame
 * @LastEditTime: 2025-06-10 00:42:22
 * @FilePath: \undefinedd:\Projects\GitHub\bilibili_blocked_videos_by_tags\README.md
 * @Description: 给个三连吧
 *
 * Copyright (c) 2025 by tjxwork, All Rights Reserved.
-->

# Bilibili Blocked Videos By Tags

对 Bilibili.com 的视频卡片元素，以标题、UP 主、标签、双重标签、充电专属、收藏投币比、竖屏、时长、播放量、点赞率、视频分区、UP 主等级、UP 主粉丝数、UP 主简介、精选评论、置顶评论来判断匹配，添加覆盖叠加层或隐藏视频，隐藏或屏蔽热搜、附带去除广告等非视频元素的功能。

欢迎订阅支持、提需求，您的赞助支持就是维护更新的最大动力！  
最下方有赞助二维码，或者前往作者的爱发电：[https://afdian.com/a/tjxgame](https://afdian.com/a/tjxgame)

**关于 Edge 安装了篡改猴，安装了脚本，但是点不出来菜单。**  
**其实你们看一下“篡改猴”顶上的提示就知道了。**  
**右上角三个点菜单->“扩展”->“管理扩展”->左下方打开“开发人员模式”**

# 更新：

-   v1.4.1 修复 Bug：补全部分页面缺失的热搜栏屏蔽、修正部分页面热搜栏使用叠加屏屏蔽时未对齐问题、修正部分菜单文本描述。

-   v1.4.0 添加新功能：“隐藏搜索框的热搜内容”、“按已有标题项屏蔽热搜项”、“按关键字屏蔽热搜项”，感谢来自 @云布绛茜乐 的赞助需求。  
    旧功能完善：“隐藏首页等页面的非视频元素” 添加隐藏搜索页下的广告卡片、推广卡片。

-   v1.3.1 优化代码逻辑：判断是否启用了相关选项来决定是否调用相关 API，以减少触发风控的风险。  
    感谢 [xiaofeiTM233](https://github.com/tjxwork/bilibili_blocked_videos_by_tags/pull/16) 的补充提交。

-   v1.3.0 添加新功能：“屏蔽高于此收藏/投币比的视频”，感谢 [xmlhttp](https://greasyfork.org/zh-CN/users/68271-xmlhttp) 的建议。  
    为了保护新发的视频，只会处理播放数 5000+、收藏数 50+、发布时间 2 小时+的视频。  
    添加理由：收藏数量远大于投币的视频，大概是刷的数据，我个人投稿视频的收藏/投币比例，几乎没有高于 3 的，刷了半天视频，决定该默认值定为 10。  
    [xmlhttp 的评论](https://greasyfork.org/zh-CN/scripts/481629/discussions/296729)、  
    [【有亦探索】揭密点赞投币收藏重要性顺序——林亦 LYi](https://www.bilibili.com/video/BV1st411Y73m)、  
    [「收藏」正在摧毁 B 站——码农高天](https://www.bilibili.com/video/BV1Cz42187ju)

-   v1.2.0 添加新功能：“屏蔽低于指定投币率的视频”，有人觉得有用……但是实际真用处不大，太多人不投币了，1%都能干掉 8 成视频。  
    添加新功能：“屏蔽低于指定 UP 主等级的视频”、“屏蔽低于指定 UP 主粉丝数的视频”、“按 UP 主简介屏蔽” 就是增加了 UP 相关信息的屏蔽，感谢 爱发电用户 5f0c2 的赞助需求！  
    添加新功能：“导出设置”、“导入设置”，其实就是个 JSON……  
    旧功能完善：“隐藏首页等页面的非视频元素” 功能生效范围增加新出现的广告项目、修复了隐藏广告元素导致的对齐问题。  
    增加了菜单的鼠标停留文字提示（也提示了哪些功能是需要 API 的）、优化了菜单功能的排序。

-   v1.1.5 修正导致缓存记录对象的 videoLink 记录出错的部分代码; 修改赞助按钮的跳出连接; (我真的是不知道什么鬼运气，去哪哪崩，刚开的爱发电也崩了。)

-   v1.1.4 添加新功能：“屏蔽叠加层的提示只显示类型”，有部分用户可能连命中的屏蔽词都不想看到，但是又倾向使用叠加层模式，所以增加了这个开关。  
    感谢来自爱发电的赞助需求。

-   v1.1.3 兼容脚本处理：[bv2av](https://greasyfork.org/zh-CN/scripts/398535)(此脚本会将视频链接替换为旧的 AV 号链接)，感谢 @Henry-ZHR 的提出；  
    不完善功能修复：每次触发运行时，会将屏蔽叠加背景层与父元素尺寸进行同步，解决了页面布局变化时叠加层不跟随变化，感谢 @Henry-ZHR 的建议；  
    “隐藏首页等页面的非视频元素” 功能生效范围增加：隐藏 搜索页——综合 下的 直播卡片；

-   v1.1.2 添加新功能：“按置顶评论屏蔽”；  
    注意：“按置顶评论屏蔽”、“屏蔽精选评论的视频” 这两个功能都用到了获取评论的 API。  
    **这个 API 对请求频率非常敏感，频繁刷新或者开启新页面会导致 B 站拒绝请求，导致此 API 相关功能失效**  
    已经尽量做了错开请求处理，正常浏览一般不会出现拒绝问题，但是相关功能无法保证 100%可用。

-   v1.1.1 添加新功能：“屏蔽充电专属的视频”。

-   v1.1.0 添加新功能：“屏蔽精选评论的视频”，骗子视频大概率会开启精选评论。（但测试的时候发现骗子视频并不全是开的）；  
    “隐藏首页等页面的非视频元素” 功能生效范围增加：隐藏视频播放页右侧视频相关的游戏推荐；  
    控制台输出日志优化：现在只有发生变化的时候才会输出。

-   v1.0.2 “隐藏首页等页面的非视频元素” 功能生效范围增加：隐藏视频播放页右侧最下方的“大家围观的直播”。

-   v1.0.1 修正了 B 站旧版首页的顶部推荐条失效的 Bug；  
    如果用旧版首页只是想要更多的顶部推荐的话，建议使用 [bilibili-app-recommend](https://greasyfork.org/zh-CN/scripts/443530-bilibili-app-recommend) 脚本来获取更多的推荐。  
    如果觉得现在版本的 B 站首页的推荐卡片有广告的问题，可以通过本脚本的 “隐藏首页等页面的非视频元素” 功能来解决。

-   v1.0.0 菜单 UI 使用 Vue3 重构，现在不用担心缩放问题挡住 UI 了，界面更加现代化；改进了判断逻辑，现在可以使用白名单来避免误杀关注的 UP 了；  
    新增功能：视频分区屏蔽、播放量屏蔽、点赞率屏蔽、竖屏视频屏蔽、UP 主名称正则屏蔽、隐藏非视频元素、白名单避免屏蔽指定 UP。

-   v0.5.5 修复 视频播放页右侧推荐视频，按 UP 主名称屏蔽失效，感谢“雪炭翁” 的指出。
-   v0.5.4 修复 "综合热门、每周必看、入站必刷" 页面的标题无法正常获取的错误。
-   v0.5.3 增加屏蔽生效范围，除原有的 "首页、分区首页、播放页右侧推荐栏、搜索页" 外，  
     新增 "综合热门、每周必看、入站必刷、旧版首页(部分元素支持)"。
-   v0.5.2 修复在搜索页面下，隐藏模式没有正确隐藏视频元素，感谢 Bilibili@痕继痕迹 的指出和宣传！！！
-   v0.5.1 添加隐藏视频模式

# 功能：

-   按标题屏蔽（支持正则）
-   按 UP 名称或 Uid 屏蔽（支持正则）
-   按标签屏蔽（支持正则）
-   按双重标签屏蔽，同时命中两个标签才生效（支持正则）
-   按充电专属屏蔽
-   按收藏/投币比屏蔽
-   按竖屏视频屏蔽
-   按视频时长屏蔽
-   按播放量屏蔽
-   按点赞率屏蔽
-   按投币率屏蔽
-   按视频分区屏蔽（支持正则）
-   按精选评论的视频屏蔽
-   按置顶评论屏蔽（支持正则）
-   按 UP 主的等级、粉丝数、简介（支持正则）进行屏蔽
-   按白名单避免屏蔽指定 UP
-   隐藏或者屏蔽热搜
-   隐藏首页等页面的非视频元素（去除直播、广告、推广内容）
-   生效页面：首页、各分区首页、播放页右侧推荐栏、搜索页面、综合热门、每周必看、入站必刷、排行榜、旧版首页(部分元素支持)
-   导入、导出配置

‍

# 作者其他脚本：

[Video Audio Compressor](https://greasyfork.org/zh-CN/scripts/489529-video-audio-compressor) （视频音量压缩器，防止耳聋，避免响度战争，压缩视频的最大音量）

有时候刷到那些无视音量响度标准的低质视频，音量直接顶到 0dB 的那种，能压到-5dB 左右，适合习惯 B 站播放器使用 100%音量的人，对正常视频影响不大。

‍

# 实现逻辑：

先判黑后判白：标题>UP 主>充电专属>收藏投币比>竖屏>时长>播放量>点赞率>视频分区>UP 主等级>UP 主粉丝数>UP 主简介>标签>双重标签>精选评论>置顶评论>白名单

临时缓存机制：同窗口进程下，以 BV 号 为键保存相关信息。

限制 API 获取频率：优先使用网页元素来获取信息，每个相同的 BV 号 ，在 3 秒内最多查询 1 次。

‍

# 确认不兼容脚本：

BewlyBewly

‍

# 脚本兼容测试通过：

[bilibili-app-recommend](https://greasyfork.org/zh-CN/scripts/443530) （为 B 站首页添加像 App 一样的推荐）

[bv2av](https://greasyfork.org/zh-CN/scripts/398535) （将视频链接替换为旧的 AV 号链接）

‍

# 相关链接：

-   Greasy Fork：[Bilibili 按标签、标题、时长，UP 主屏蔽视频](https://greasyfork.org/zh-CN/scripts/481629-bilibili-%E6%8C%89%E6%A0%87%E7%AD%BE-%E6%A0%87%E9%A2%98-%E6%97%B6%E9%95%BF-up%E4%B8%BB%E5%B1%8F%E8%94%BD%E8%A7%86%E9%A2%91)
-   GitHub：[https://github.com/tjxwork/bilibili_blocked_videos_by_tags](https://github.com/tjxwork/bilibili_blocked_videos_by_tags)
-   视频教程：[应该是目前 B 站最强的屏蔽视频插件？【tjxgame】](https://www.bilibili.com/video/BV1WJ4m1u79n/)

# 效果展示：

[![pkDjsf0.png](https://s21.ax1x.com/2024/06/22/pkDjsf0.png)](https://imgse.com/i/pkDjsf0)
‍

# 赞助：

有用的话，赞助作者吃桶泡面吧  
也可以用爱发电按月订阅支持！  
作者的爱发电：[https://afdian.com/a/tjxgame](https://afdian.com/a/tjxgame)
